#!/usr/bin/env ruby
require 'pry'

def mower(input)
  # valid commmands
  commands = ["N","E","W","S","L","R","F"]
  exit if !input.gsub(/\d+/,"").split.join
                .delete("#{commands.join}").empty?
  code = input.strip.lines.map{|line| line.split.join}
  le = code.length # input length
  cp = -1 # code pointer
  lines = ["1 3 N", "5 1 E"] # line results (tmp)
  o = "" # the output
  until (cp+=1) == le
    o += case code[cp]
    when /[1-9]/
      # do some stuff
      next
    else
      lines.shift
    end + "\n"
  end
  return o
end

input = ARGV[0] || """
5 5
1 2 N
LFLFLFLFF
3 3 E
FFRFFRFRRF
"""

puts mower input
